<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>KSU CET Hostel Finder - Find Your Perfect Student Accommodation</title>
    <meta name="description" content="Discover the best student hostels near College of Engineering, Trivandrum. Search by amenities, distance, and budget to find your perfect accommodation." />

    <!-- Clerk SDK - Load this first -->
    <script
      async
      crossorigin="anonymous"
      data-clerk-publishable-key="pk_test_bmVhcmJ5LXN3aWZ0LTU4LmNsZXJrLmFjY291bnRzLmRldiQ"
      src="https://nearby-swift-58.clerk.accounts.dev/npm/@clerk/clerk-js@latest/dist/clerk.browser.js"
      type="text/javascript"
    ></script>

    <!-- Auth Check -->
    <script>
      // Prevent any content from showing until auth is checked
      document.documentElement.style.display = 'none';
    </script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" />

    <!-- Site styles -->
    <link rel="stylesheet" href="style.css" />
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" referrerpolicy="no-referrer" />
  </head>
  <body>
    <header class="site-header">
      <a href="index.html" class="logo">
        <img class="logo-img" src="images/ksu%20logo%20white.png" alt="KSU Logo" />
        <span>KSU CET Hostel Finder</span>
      </a>
      <button class="hamburger" aria-label="Toggle navigation menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <nav class="site-nav">
        <ul>
          <li><a href="index.html" aria-current="page"><i class="fas fa-home"></i> Home</a></li>
          <li><a href="hostels.html"><i class="fas fa-bed"></i> Hostels</a></li>
          <li><a href="about.html"><i class="fas fa-info-circle"></i> About Us</a></li>
        </ul>
      </nav>
      <div class="mobile-nav-overlay" tabindex="-1" aria-hidden="true"></div>
    </header>

    <main class="hero">
      <h2>Find Your Perfect Student Home</h2>
      <p class="subtitle">Discover safe, affordable, and convenient accommodation near College of Engineering, Trivandrum. Search by amenities, distance, and budget to find your ideal hostel.</p>

      <form id="search-form" class="search-form" action="hostels.html">
        <div class="search-filters">
          <!-- WIDE CENTERED SEARCH BAR -->
          <div class="filter-group search-bar-row" style="grid-column: 1 / -1; align-items: center;">
            <label for="search">Search Hostels</label>
            <input type="search" id="search" name="q" placeholder="Enter hostel name..." class="neu-input wide-search" />
          </div>

          <!-- FILTERS: Each label and control grouped together -->
          <div class="filter-row" style="grid-column: 1 / -1;">
            <div class="filter-group">
              <label for="gender">Gender Preference</label>
              <select id="gender" name="gender">
                <option value="">Any Gender</option>
                <option value="boys">Male Hostels</option>
                <option value="girls">Female Hostels</option>
              </select>
            </div>
            <div class="filter-group">
              <label for="distance">Maximum Distance</label>
              <div class="range-group">
                <input type="range" id="distance" name="distance" min="0" max="2" step="0.1" value="2" />
                <output for="distance">2 km</output>
              </div>
            </div>
            <div class="filter-group">
              <label>Required Amenities</label>
              <div id="amenity-filters" class="amenity-filters">
                <!-- Amenities will be populated by JavaScript -->
              </div>
            </div>
          </div>

          <button type="submit" class="selector-submit">
            <i class="fas fa-search"></i>
            Search Hostels
          </button>
        </div>
      </form>
    </main>

    <section class="social-links" aria-label="Connect with us">
      <div class="social-popup">
        <a href="#" aria-label="Instagram">
          <i class="fab fa-instagram"></i>
        </a>
        <div class="popup-content">
          <a href="https://www.instagram.com/studentassistcell_cet/" target="_blank" rel="noopener">
            <i class="fab fa-instagram"></i>
            KSU Student Assist Cell
          </a>
          <a href="https://www.instagram.com/ksu.cet/" target="_blank" rel="noopener">
            <i class="fab fa-instagram"></i>
            KSU CET Official
          </a>
        </div>
      </div>
      <a href="https://chat.whatsapp.com/JYDuhIWcdQLH2mud9LkkuU" aria-label="WhatsApp Group" target="_blank" rel="noopener">
        <i class="fab fa-whatsapp"></i>
      </a>
      <a href="mailto:ksucetsac2024@gmail.com" aria-label="Email Us" target="_blank" rel="noopener">
        <i class="fas fa-envelope"></i>
      </a>
    </section>

    <footer class="site-footer">
      <p>&copy; <span id="year"></span> KSU CET Hostel Finder. All rights reserved.</p>
      <p>Developed in collaboration with <a href="https://flinkwebs.netlify.app" target="_blank" rel="noopener" class="flink-link">Flink</a></p>
    </footer>

    <!-- Auth check script -->
    <script src="auth-check.js"></script>
    
    <!-- Main script -->
    <script defer src="script.js"></script>
  </body>
</html>